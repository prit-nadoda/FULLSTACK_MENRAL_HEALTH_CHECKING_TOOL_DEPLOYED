<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>psyCheck | Edit Profile</title>
  <link rel="shortcut icon" href="/images/tabLogo.png" type="image/x-icon">
  <!-- font awesome cdn link  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- swiper css link  -->
  <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />

  <link rel="stylesheet" href="/stylesheets/editprofile.css">
  <style>
    .avatar-upload {
      position: relative;
      max-width: 205px;
      margin: 50px auto;
    }

    .avatar-upload .avatar-edit {
      position: absolute;
      right: 12px;
      z-index: 1;
      top: 10px;
    }

    .avatar-upload .avatar-edit input {
      display: none;
    }

    .avatar-upload .avatar-edit input+label {
      display: inline-block;
      width: 34px;
      height: 34px;
      margin-bottom: 0;
      border-radius: 100%;
      background: #ceefff;
      box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.12);
      cursor: pointer;
      font-weight: normal;
      transition: all 0.2s ease-in-out;
    }

    .avatar-upload .avatar-edit input+label:hover {
      background: #f1f1f1;
      border-color: #a2d9f5;
    }

    .avatar-upload .avatar-edit input+label:after {
      font-family: 'FontAwesome';
      color: #757575;
      position: absolute;
      top: 10px;
      left: 0;
      right: 0;
      text-align: center;
      margin: auto;
    }

    .avatar-upload .avatar-preview {
      width: 192px;
      height: 192px;
      position: relative;
      border-radius: 100%;
      border: 6px solid #a2d9f5;
      box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.1);
    }

    .avatar-upload .avatar-preview>div {
      width: 100%;
      height: 100%;
      border-radius: 100%;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
    }
  </style>
</head>

<body>

  <section class="contact" id="contact">
    <a href="<%=preUrl%>" class="btn" style="margin-bottom: 30px;">Back</a><br>

    <form action="/editprofile" method="post" enctype="multipart/form-data">

      <div class="avatar-upload">
        <div class="avatar-edit">
          <input name="image" type='file' id="imageUpload" accept=".png, .jpg, .jpeg" />
          <label for="imageUpload" style="border: none;"><img style="width:30px; margin: 4px;" src="/images/editimage.png" alt="edit"></label>
        </div>
        <div class="avatar-preview">
          <div id="imagePreview" style="background-image: url('/images/uploads/<%=user.profileimage%>');">
          </div>
        </div>

      </div>

      <span>edit your fullname :</span>
      <input type="text" placeholder="enter fullname" class="box" name="fullname" value="<%=user.fullname%>">
      <span>edit your username :</span>
      <input type="text" placeholder="enter username" class="box" name="username" value="<%=user.username%>">
      
      <input type="submit" value="Update" class="btn">

    </form>

  </section>


  </div>

  <script>
    function readURL(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function(e) {
          $('#imagePreview').css('background-image', 'url(' + e.target.result + ')');
          $('#imagePreview').hide();
          $('#imagePreview').fadeIn(650);
        }
        reader.readAsDataURL(input.files[0]);
      }
    }
    $("#imageUpload").change(function() {
      readURL(this);
    });
  </script>
</body>

</html>